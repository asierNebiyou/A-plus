import{r as c}from"./Byu8kLTl.js";const h=()=>{const l=c([]),e=c(!1),n=c(null);return{pricingPlans:l,isLoading:e,error:n,fetchPlans:async()=>{e.value=!0;try{l.value=await $fetch("/api/pricing")}catch{n.value="Failed to fetch pricing plans"}finally{e.value=!1}},getPlan:async t=>{e.value=!0;try{l.value=await $fetch(`/api/pricing/?id=${t}`)}catch(a){throw n.value="Failed to delete pricing plan",a}finally{e.value=!1}},createPlan:async t=>{e.value=!0;try{const a=await $fetch("/api/admin/pricing",{method:"POST",body:t});return l.value.push(a),a}catch(a){throw n.value="Failed to create pricing plan",a}finally{e.value=!1}},updatePlan:async(t,a)=>{e.value=!0;try{const i=await $fetch("/api/admin/pricing",{method:"PUT",body:{id:t,...a}}),r=l.value.findIndex(u=>u._id===t);return r!==-1&&(l.value[r]=i),i}catch(i){throw n.value="Failed to update pricing plan",i}finally{e.value=!1}},deletePlan:async t=>{e.value=!0;try{await $fetch("/api/admin/pricing",{method:"DELETE",body:{id:t}}),l.value=l.value.filter(a=>a._id!==t)}catch(a){throw n.value="Failed to delete pricing plan",a}finally{e.value=!1}}}};export{h as u};
