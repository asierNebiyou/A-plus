import{_ as y}from"./6mNI8m8k.js";import{r as f,l as k,c as i,o as d,m as h,n as M,p as A,e as L,w as B,a as e,g as C,b as p,u as b,j as P,h as v,v as x}from"./Byu8kLTl.js";import{u as V}from"./DjQaApeM.js";import{m as I}from"./DK8KC6kv.js";import{_ as N}from"./DlAUqK2U.js";const R=["innerHTML"],T={__name:"MarkdownRenderer",props:{content:{type:String,required:!0}},setup(u){const s=u,n=f("");return k(()=>s.content,r=>{n.value=I(r)}),(r,m)=>(d(),i("div",{innerHTML:n.value,class:"markdown-content"},null,8,R))}},q=N(T,[["__scopeId","data-v-daeb6cd0"]]),S={class:"min-h-screen bg-gray-50 p-6"},U={class:"max-w-3xl mx-auto"},$={class:"flex items-center mb-6"},E={key:0,class:"text-center py-12"},F={class:"mb-4"},H={class:"mb-4"},K={__name:"[id]",setup(u){const s=h(),{getPost:n,updatePost:r,isLoading:m}=V(),o=f({}),c=s.currentRoute.value.params.id;M(async()=>{try{o.value=await n(c)}catch(a){console.error("Failed to fetch post:",a)}});const _=async()=>{try{await r(c,o.value),s.push("/admin/blog")}catch(a){console.error("Failed to update post:",a)}};return(a,t)=>{const w=A("ArrowLeftIcon"),g=y;return d(),L(g,{name:"admin"},{default:B(()=>[e("div",S,[e("div",U,[e("div",$,[e("button",{onClick:t[0]||(t[0]=l=>b(s).back()),class:"mr-4"},[p(w,{class:"w-5 h-5 text-gray-600 hover:text-gray-800"})]),t[3]||(t[3]=e("h1",{class:"text-2xl font-semibold text-gray-900"},"Edit Post",-1))]),b(m)?(d(),i("div",E,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#92A75A] mx-auto"},null,-1)]))):o.value?(d(),i("form",{key:1,onSubmit:P(_,["prevent"]),class:"bg-white rounded-lg shadow-sm p-6"},[e("div",F,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.title=l),type:"text",required:"",class:"w-full p-2.5 border border-gray-200 rounded-lg"},null,512),[[x,o.value.title]])]),e("div",H,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Content (Markdown)",-1)),v(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.content=l),rows:"10",required:"",class:"w-full p-2.5 border border-gray-200 rounded-lg"},null,512),[[x,o.value.content]])]),t[7]||(t[7]=e("button",{type:"submit",class:"bg-[#92A75A] text-white px-4 py-2 rounded-lg hover:bg-[#7a8c4c] transition-colors"}," Update Post ",-1))],32)):C("",!0),t[8]||(t[8]=e("h2",{class:"mt-6 text-xl font-semibold"},"Preview",-1)),p(q,{content:o.value.content},null,8,["content"])])])]),_:1})}}};export{K as default};
