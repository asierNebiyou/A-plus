import{a9 as u,r as i,aa as n}from"./Byu8kLTl.js";function v(){const o=u("adminToken"),a=i("");return{login:async(t,l)=>{a.value="";try{const e=await $fetch("/api/auth/authenticate",{method:"POST",body:{username:t,password:l}});if(e!=null&&e.token)return o.value=e.token,console.log("gvbbbbvgvgvgvgvgvg",o.value),n("/admin");a.value="Invalid credentials"}catch{a.value="Login failed."}},logout:()=>{o.value=null,n("/login")},token:o,error:a}}export{v as u};
