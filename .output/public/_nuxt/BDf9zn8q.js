import{r as g,f as T,c as r,o as a,a as e,g as L,h as u,v as m,i as P,j as f,F as v,k as p,d as V,t as c,u as x}from"./Byu8kLTl.js";import{m as B}from"./DK8KC6kv.js";import{u as H}from"./DjQaApeM.js";const M={class:"max-w-4xl mx-auto p-6"},q={class:"flex flex-wrap gap-2"},I=["onKeydown"],U={class:"flex flex-wrap gap-2 mt-2"},D=["onClick"],K={class:"mt-1 flex rounded-md shadow-sm"},N={class:"relative flex flex-1 flex-col"},$={class:"border-b border-gray-300 bg-gray-50 p-2 flex items-center space-x-2 rounded-t-md"},j=["onClick"],A={key:0,class:"prose max-w-none mt-6 p-6 border rounded-md"},E=["innerHTML"],F={class:"flex justify-between"},Q={class:"flex space-x-3"},z=["disabled"],X={__name:"create",setup(G){const{createPost:w,loading:b}=H(),d=g(!1),l=g(""),n=g({title:"",slug:"",content:"",tags:[],status:"draft"}),y=[{label:"B",markdown:"**Bold**"},{label:"I",markdown:"*Italic*"},{label:"H2",markdown:"## Heading"},{label:"Link",markdown:"[Link](url)"},{label:"Image",markdown:"![Alt text](image-url)"},{label:"Code",markdown:"```\ncode\n```"},{label:"Quote",markdown:"> Quote"},{label:"List",markdown:"- List item"}],k=T(()=>B(n.value.content)),h=s=>{const t=document.querySelector("textarea"),o=t.selectionStart,i=t.selectionEnd;n.value.content=n.value.content.substring(0,o)+s+n.value.content.substring(i),t.focus()},_=()=>{l.value.trim()&&(n.value.tags.push(l.value.trim()),l.value="")},S=s=>{n.value.tags=n.value.tags.filter(t=>t!==s)},C=async()=>{try{await w(n.value)}catch(s){console.error(s)}};return(s,t)=>(a(),r("div",M,[e("form",{onSubmit:f(C,["prevent"]),class:"space-y-6"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.value.title=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[m,n.value.title]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Slug",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value.slug=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[m,n.value.slug]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tags",-1)),e("div",q,[u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value=o),onKeydown:P(f(_,["prevent"]),["enter"]),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Press enter to add tags"},null,40,I),[[m,l.value]]),e("div",U,[(a(!0),r(v,null,p(n.value.tags,o=>(a(),r("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},[V(c(o)+" ",1),e("button",{type:"button",onClick:i=>S(o),class:"ml-1 inline-flex items-center p-0.5 rounded-full text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Ã— ",8,D)]))),128))])])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Content",-1)),e("div",K,[e("div",N,[e("div",$,[(a(),r(v,null,p(y,(o,i)=>e("button",{key:i,onClick:f(J=>h(o.markdown),["prevent"]),type:"button",class:"p-1 hover:bg-gray-200 rounded"},c(o.label),9,j)),64))]),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>n.value.content=o),rows:"15",class:"block w-full rounded-b-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[m,n.value.content]])])])]),d.value?(a(),r("div",A,[e("div",{innerHTML:k.value},null,8,E)])):L("",!0),e("div",F,[e("button",{type:"button",onClick:t[4]||(t[4]=o=>d.value=!d.value),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},c(d.value?"Hide Preview":"Show Preview"),1),e("div",Q,[e("button",{type:"submit",disabled:x(b),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},c(x(b)?"Saving...":"Save Post"),9,z)])])],32)]))}};export{X as default};
