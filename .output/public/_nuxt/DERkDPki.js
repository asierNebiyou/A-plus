import{r as o}from"./Byu8kLTl.js";function d(){const i=o([]),e=o(!1),t=o(null),n=async()=>{e.value=!0,t.value=null;try{i.value=await $fetch("/api/testimonial")}catch(l){console.error("Error loading testimonials:",l),t.value="Failed to load testimonials."}finally{e.value=!1}};return{testimonialData:i,isLoading:e,error:t,addTestimonial:async l=>{e.value=!0,t.value=null;try{const a=await $fetch("/api/admin/testimonial",{method:"POST",body:l});return i.value.push(a),a}catch(a){console.error("Error adding testimonial:",a),t.value="Failed to add testimonial."}finally{e.value=!1}},loadTestimonial:n,deleteTestimonial:async l=>{e.value=!0,t.value=null;try{await $fetch("/api/admin/testimonial",{method:"DELETE",body:{deleteId:l}}),i.value=i.value.filter(a=>a._id!==l),await n()}catch(a){console.error("Error deleting testimonial:",a),t.value="Failed to delete testimonial."}finally{e.value=!1}}}}export{d as u};
